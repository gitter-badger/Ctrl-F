<!-- <script src="{% static '/bower_components/socket.io-client/socket.io.js' %}"></script> -->
<script src="{% static '/bower_components/three.js/three.min.js' %}"></script>
<!-- <script src="{% static '/js/pouchdb-3.3.1.min.js' %}"></script> -->
<script type="text/javascript">
  // temp vars - will be replaced with puchDB database calls
  var fieldWidth = 40;
  var fieldHeight = 30;

  /* Creates scene and cameras
  Camera is set at 45 degrees, 1-1000 view distance - This is views the entire board
  Aspect ratio is calculared*/
  var scene = new THREE.Scene();
  var aspectRatio = window.innerWidth / window.innerHeight;
  var globalCamera = new THREE.PerspectiveCamera(45, aspectRatio, 1, 1000);
  var playerCamera = new THREE.PerspectiveCamera(45, aspectRatio, 1, 1000);

  /* Creates renderer
  Renderer is set to the inner window height
  The renderer is appended to the document, which should be empty
  When the window is resized, the renderer will change size with it
  */
  var renderer = new THREE.WebGLRenderer();
  function renderSetSize () {
    renderer.setSize( window.innerWidth, window.innerHeight);
  }
  renderSetSize();
  document.body.appendChild(renderer.domElement);
  window.onresize = function() {
    renderSetSize();
  }

  /* Sets globalCamera's position to contain 100% of height,
  calculates with trig functions to fit whichever dimension is larger */
  globalCameraFOVTan = Math.tan( globalCamera.fov / 2 );
  globalCamera.WidthHeight = (fieldWidth / 2) / globalCameraFOVTan;
  globalCamera.HeightHeight = (fieldHeight / 2) / globalCameraFOVTan;
  if (globalCamera.WidthHeight > globalCamera.HeightHeight) {
    globalCamera.position.z = globalCamera.WidthHeight;
  }
  else {
    globalCamera.position.z = globalCamera.HeightHeight;
  }

  /* Creates plane of x width and x height (defined by DB lookup)
  Material set to white, doublesided plane
  */
  var planeGeometry = new THREE.PlaneGeometry( fieldWidth, fieldHeight);
  var material = new THREE.MeshBasicMaterial( {color: 0xffffff, side: THREE.DoubleSide} );
  var plane = new THREE.Mesh( planeGeometry, material ); //Creates plane object out of defined geometry and materials
  scene.add( plane ); //Adds plane to scene

  // Creates mesh with text as material
  // These are temporary numbers
  var fontSize = 16;
  var charsPerSide = 16;
  var canvas = document.createElement('canavs');
  canvas.width = canvas.height = fontSize * charsPerSide;
  var yOffset = -0.25 //Shhh I'm trusting the internet

  for( var i=0, y=0, y<charsPerSide)

  var textGeometry = new THREE.Geometry();


  function globalRender() {
    requestAnimationFrame( globalRender );
    renderer.render( scene, globalCamera );
  }
  globalRender();
</script>
